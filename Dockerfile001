# Use the official busybox image as the base image
FROM busybox:latest

# Install necessary packages
RUN mkdir -p /rootfs \
    && wget -O - http://archive.ubuntu.com/ubuntu/pool/main/d/debootstrap/debootstrap_1.0.123_all.deb \
    | busybox dpkg -i - \
    && busybox debootstrap --variant=minbase --arch=amd64 focal /rootfs http://archive.ubuntu.com/ubuntu/ \
    && busybox chroot /rootfs /bin/sh -c "apt-get update && apt-get install -y net-tools dnsutils iputils-ping iproute2" \
    && cp -a /rootfs/bin /rootfs/sbin /rootfs/usr /rootfs/lib / \
    && rm -rf /rootfs \
    && busybox rm -rf /var/lib/apt/lists/*

# Set the entrypoint to /bin/sh for an interactive shell
ENTRYPOINT ["/bin/sh"]
